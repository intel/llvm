-- Check sycl-ls exit code and output.

RUN: sycl-ls --verbose > vanilla_verbose.out
RUN: sycl-ls > vanilla.out

-- Check the functioning of 'discard-filters' CLI option.

RUN: env ONEAPI_DEVICE_SELECTOR="opencl:*" sycl-ls --discard-filters > ods_discard_filter.out
RUN: diff vanilla.out ods_discard_filter.out

RUN: env ONEAPI_DEVICE_SELECTOR="opencl:*" sycl-ls --discard-filters --verbose > ods_discard_filter_v.out
RUN: diff vanilla_verbose.out ods_discard_filter_v.out

RUN: env SYCL_DEVICE_ALLOWLIST="BackendName:opencl" sycl-ls --discard-filters > sda_discard_filter.out
RUN: diff vanilla.out sda_discard_filter.out

RUN: env SYCL_DEVICE_ALLOWLIST="BackendName:opencl" sycl-ls --discard-filters --verbose > sda_discard_filter_v.out
RUN: diff vanilla_verbose.out sda_discard_filter_v.out
